<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /* --------------------------- 문자열 기초 ----------------------------- */

    // 1. JS에서 문자열 작업
    //  - 문자열 길이 확인
    //  - 문자열 검색하기
    //  - 문자열 추출하기
    //  - 문자열 변환하기
    //  - 문자열 나누기
    //  - 문자열 결합하기

    // 2. 문자열에서 특수문자 사용하기
    // 앞에 \(역슬래쉬)를 붙여 사용하자!
    // \' \" \` \\  \n(줄바꿈) \t(탭)  \r(되돌리기 <- 커서를 행의 앞으로 이동, 잘 사용하지 않음)

    console.log('안녕\n하세요'); 
    /* 
    안녕
    하세요
    */
    /* -------------------------------------------------------- */


    /* --------------------------- 문자열 길이 확인 ----------------------------- */

    // 1. 문자열.length
    // 한.영 상관없이 그대로 계산
    // 공백도 1글자로 인정!!
    console.log('안녕하세요'.length); //5
    console.log('javascript'.length); //10
    console.log('부승관 귀여워'.length); //7

    // ** 문제점 : 😀 이모티콘은 2글자로 인정
    // 이모티콘은 Surrogate Pair이기때문!! 기본적으로 1글자당 2바이트, Surrogate Pair는 4바이트임


    // 2. Array.from(문자열).length
    // 이모티콘 문제를 해결할 수 있음!
    // 기본문자, 이모티콘 상관없이 1글자로 인식함.!
    console.log(Array.from('안녕하세요!😀★').length); //8

    // ** 이모티콘 입력에 제한을 두지 않는 이상 2번 방법이 안전할듯?

    /* -------------------------------------------------------- */
  </script>
  <h2>일반 문자를 입력해보세요!</h2>
  <textarea name="input" id="" cols="50" rows="5" class="reg_input"></textarea>
  <p>현재 입력된 글자 수는 <span class="rs1"></span>글자 입니다.</p>
  <hr>
  <h2>이모티콘도 입력해보세요!😀</h2>
  <textarea name="input" id="" cols="50" rows="5" class="sp_input"></textarea>
  <p>현재 입력된 글자 수는 <span class="rs2"></span>글자 입니다.</p>
  <script>
    document.querySelector('.reg_input')
    .addEventListener('keyup',(e)=>{ //keydown은 묘하게 글자차이가 남. 딜레이나는거처럼, 아무튼 이상하게 count됨
      let val = e.target.value.length;
      document.querySelector('.rs1').innerText = val;
    });

    document.querySelector('.sp_input')
    .addEventListener('keyup',(e)=>{
      let val = Array.from(e.target.value).length;
      document.querySelector('.rs2').textContent = val;
    })
  </script>


  <script>
    /* --------------------------- 문자열 공백제거 ----------------------------- */
    
    // 1. 문자열.trim();
    // 문자열 양 끝의 공백을 제거
    // 중간공백은 제외
    // \n \t도 마찬가지!
    console.log('  안녕  ');//  안녕  
    console.log('  안녕  '.trim());//안녕
    console.log(' 개. 고양이. 소    '.trim()); //개. 고양이. 소
    console.log('  \n안녕하세\t용\t  '.trim());//안녕하세  용
    /* -------------------------------------------------------- */


    /* --------------------------- 문자열 검색하기(index) ----------------------------- */

    // 1. 문자열.indexOf('찾을 문자열',[검색 시작 인덱스]);

    // 문자열 중 찾을 문자열이 어느 index값에 있는지 반환
    console.log('안녕하세요'.indexOf('세')); //3
    
    // 찾을 문자열이 중복될 경우, 가장 앞에 위치한 글자위치 반환
    console.log('안녕하세요 반갑습니다요 건강하세요'.indexOf('요')); //4
    
    // 두번째 인자를 넣으면 해당 위치부터 찾기 시작함.
    // 검색 시작 인덱스는 생략가능!
    // index 6번부터 찾기 시작하기에 첫번째 '요'는 무시하고 두번째 '요'를 찾은거임.
    console.log('안녕하세요 반갑습니다요 건강하세요'.indexOf('요',6)); //11

    // 찾을 문자열이 없는 경우 -1 로 반환
    console.log('안녕하세요'.indexOf('부승관')); //-1



    // 2. 문자열.lastIndexOf('찾을 문자열',[검색 시작 인덱스]);
    
    // indexOf랑 사용법은 비슷.
    // 차이점은 문자열이 중복될 경우, 가장 뒤에 위치한 글자위치 반환
    console.log('안녕하세요'.lastIndexOf('세')); //3
    console.log('안녕하세요 반갑습니다요 건강하세요'.lastIndexOf('요')); //17



    // 3. 문자열.search(정규표현);

    // 정규표현을 활용해 조금 더 체계화된 검색을 할 때 사용
    console.log('안녕하세요'.search(/안녕/));//0
    console.log('안녕하세요'.search(/요/));//4
    console.log('안녕하세요'.search(/승관/));//-1
    /* -------------------------------------------------------- */


    /* --------------------------- 문자열 검색하기(boolean) ----------------------------- */
    
    // 1. 문자열.includes('찾을 문자열',[검색 시작 인덱스]);
    // 위치에 상관없이 찾을 문자열이 포함되면 true, 아니면 false
    console.log('부승관은 귀여워요.'.includes('승관'));//true
    console.log('부승관은 귀여워요.'.includes('사랑'));//false
    console.log('부승관은 귀여워요.'.includes('승관',6));//false


    // 2. 문자열.startWith('찾을 문자열',[검색 시작 인덱스]);
    // 시작문자가 찾을 문자열과 일치하면 true, 아니면 false
    console.log('부승관은 귀여워요.'.startsWith('승관'))//false
    console.log('부승관은 귀여워요.'.startsWith('부'))//true
    console.log('부승관은 귀여워요.'.startsWith('부승'))//true
    console.log('부승관은 귀여워요.'.startsWith('부승 귀'))//false


    // 3. 문자열.endWith('찾을 문자열',[검색 시작 인덱스]);
    // 끝문자가 찾을 문자열과 일치하면 true, 아니면 false
    console.log('부승관 사랑해'.endsWith('해'));//true
    console.log('부승관 사랑해'.endsWith('사랑'));//false
    console.log('부승관 사랑해'.endsWith('사랑해'));//true


    //대소문자 구별함.
    console.log('semo so cute'.includes('SEMO'));// false 
    console.log('semo so cute'.startsWith('SEMO'));// false 
    console.log('semo so cute'.endsWith('CUTE'));// false 
    /* -------------------------------------------------------- */



    /* --------------------------- 문자 추출하기(한글자) ----------------------------- */

    // 1. 문자열.charAt([인덱스]);
    // 문자열에서 원하는 인덱스번호의 위치 글자를 추출할 수 있음.
    // 한글자만..
    console.log('승관이 귀여워'.charAt(1));//관

    //인덱스 번호를 생략하는 경우, 기본값은 0임
    console.log('승관이 귀여워'.charAt());//승
    /* -------------------------------------------------------- */
  </script>
  <hr>
  <h2>원하는 지역 첫번째글자를 입력하세요.</h2>
  <input type="text" class="area_search">
  <ul class="areas">
    <li data-area="김포">김포</li>
    <li data-area="김해">김해</li>
    <li data-area="성남">성남</li>
    <li data-area="속초">속초</li>
    <li data-area="수원">수원</li>
    <li data-area="서울">서울</li>
    <li data-area="서산">서산</li>
    <li data-area="서해">서해</li>
  </ul>
  <script>
    document.querySelector('.area_search')
    .addEventListener('keyup',(e)=>{
      let first = e.target.value.charAt(0);
      let area = document.querySelectorAll('.areas li');
      for(let a of area){
        let target = a.getAttribute('data-area');

        if(target.charAt(0) !== first){
          a.style.display = 'none';
        } else{
          a.style.display = 'block';
        }
      }
    });
  </script>

  <script>
    /* --------------------------- 문자 추출하기(범위) ----------------------------- */

    // 1. 문자열.slice(시작인덱스,[종료인덱스-1]);
    // 지정한 시작인덱스 ~ 종료인덱스 까지의 문자열을 추출
    console.log('안녕하세요. 반갑습니다.'.slice(3,10));//세요. 반갑습
    
    // 종료인덱스를 생략할 경우 시작인덱스 ~ 끝까지 모두 추출
    console.log('안녕하세요. 반갑습니다.'.slice(3));//세요. 반갑습니다.
    
    //** 주의 : 시작인덱스 < 종료인덱스. 시작인덱스가 더 크면 공백으로 반환
    console.log('안녕하세요. 반갑습니다.'.slice(3,0));//


    // 2. 문자열.substring(시작인덱스, [종료인덱스-1]);
    // 사용법은 slice 와 동일.
    console.log('안녕하세요. 반갑습니다.'.slice(3,10));//세요. 반갑습
    console.log('안녕하세요. 반갑습니다.'.slice(3));//세요. 반갑습니다.


    // 3. slice VS substring

    // 3-1. 음수사용
    // slice는 음수사용이 가능함. (문자열 거꾸로 계산)
    console.log('안녕하세요. 반갑습니다.'.slice(3,-2)); //세요. 반갑습니
    
    // substring은 음수를 무조건 0으로 인식
    console.log('안녕하세요. 반갑습니다.'.substring(3,-2)); //안녕하


    // 3-2. 꼼수(?)
    // 기본적으로 시작인덱스 < 종료인덱스 형태임. (시작:작은수, 종료:큰수)
    // slice는 조건을 지키지 않으면 공백으로 반환
    console.log('안녕하세요. 반갑습니다.'.slice(10,0)); //

    //substring은 조건을 지키지 않으면 자동으로 작은수, 큰수로 변환하여 인식
    console.log('안녕하세요. 반갑습니다.'.substring(10,0)); //안녕하세요. 반갑습
    console.log('안녕하세요. 반갑습니다.'.substring(0,10)); //안녕하세요. 반갑습


    // 3-3. substring 종합
    console.log('안녕하세요. 반갑습니다.'.substring(3,-1));//안녕하
    //console.log('안녕하세요. 반갑습니다.'.substring(3,0));
    console.log('안녕하세요. 반갑습니다.'.slice(0, 3));//안녕하


    // 4. 적용
    // 문장이 길고, 뒤에있는 글자를 가져오고 싶다면 음수를 사용할 수 있는 slice,
    // 시작인덱스, 끝 인덱스 상관없이 유연하게 사용할 수 있는 substring
    /* -------------------------------------------------------- */



    /* --------------------------- 문자 추출하기(글자 수 지정) ----------------------------- */

    // 1. 문자열.substr(시작인덱스,[글자 수]);
    // 시작인덱스부터 글자 수 만큼 추출
    console.log('안녕하세요. 승관이는 귀여워요.'.substr(4,5));//요. 승관
    
    //글자 수 생략하면 끝까지 추출
    console.log('안녕하세요. 승관이는 귀여워요.'.substr(4));//요. 승관이는 귀여워요.

    console.log('안녕하세요😀 반가와'.substr(4,5));//요😀 반
    //이모티콘은 2글자 취급...
    /* -------------------------------------------------------- */


    /* --------------------------- 문자 변환하기 ----------------------------- */

    // 1. 문자열.replace('기존문자','바꿀문자');
    // 문자열에서 기존문자를 바꿀문자로 변환
    let str = '승관이 귀여워';
    console.log(str);//승관이 귀여워
    let str2 = str.replace('귀여워','잘생겼어');
    console.log(str2); //승관이 잘생겼어

    //원본은 바뀌지 않음.
    console.log(str); //승관이 귀여워

    // 기존문자가 중복되는 경우, 첫번째 문자만 변경됨.
    console.log('승관이 귀여워. 승관이 잘생겼어'.replace('승관이','부승관'));//부승관 귀여워. 승관이 잘생겼어
    
    // 모두 변경하고싶을 때 정규표현을 활용(g : 전역,global)
    console.log('승관이 귀여워. 승관이 잘생겼어'.replace(/승관이/g,'부승관'));//부승관 귀여워. 부승관 잘생겼어

    //활용
    // let input222 = prompt('전화번호를 -(하이픈)을 포함해 입력하세요');
    // alert(input222.replace(/-/g,''));
    /* -------------------------------------------------------- */



    /* --------------------------- 문자 나누어 배열로 변환하기 ----------------------------- */

    // 1. 문자열.split([기준문자],[최대분할수]);
    // 기준문자를 기준으로 나누어 배열로 저장
    console.log('안녕하세요.반갑습니다.처음.만나요.'.split('.'));//['안녕하세요', '반갑습니다', '처음', '만나요', '']

    // 기준문자를 ''(공백)으로 설정하면 한글자씩 나누어진다.
    console.log('부승관귀여워'.split('')); //['부', '승', '관', '귀', '여', '워']

    // 기준문자를 아예 생략하면 나누지 않고 그대로 출력된다.(배열형태로)
    // 문자를 하나의 배열로 변환하고 싶을 때 사용?!
    console.log('부승관'.split()); //['부승관']

    // 최대분할수 활용해보자
    // index 낮은거부터 차례대로. 나머지 뒤에것들은 생략
    console.log('부.승.관.귀.여.워.짜.릿.해'.split('.',5)); // ['부', '승', '관', '귀', '여']
    /* -------------------------------------------------------- */



    /* --------------------------- 문자열 합치기(+ ``) ----------------------------- */
    
    // + 활용하기
    console.log('승관이 '+'귀여워'); //승관이 귀여워
    console.log('승관이 '+1+10+' 귀여워'); //승관이 110 귀여워

    // `` 백틱활용하기
    // ${ } 안에 작성하면 수식, 변수 등등... 작성할 수 있음
    console.log(`승관이 ${1+10} 귀여워`); //승관이 11 귀여워
    /* -------------------------------------------------------- */


    /* --------------------------- 문자열 대소문자 변환 ----------------------------- */

    // 문자열.toLowerCase();
    // 모든 문자를 소문자로 변경
    console.log('SEMO'.toLowerCase()); //semo
    console.log('SevenTEEN'.toLowerCase(5)); //seventeen
    
    // 문자열.toUpperCase();
    // 모든 문자를 대문자로 변경
    console.log('semo'.toUpperCase()); //SEMO
    console.log('SevenTEEN'.toUpperCase(5)); //SEVENTEEN
    
    // 당연히 한글은 적용안됨. 
    console.log('승관이 귀여워'.toLowerCase()); //승관이 귀여워
    console.log('승관이 귀여워'.toUpperCase()); //승관이 귀여워
    /* -------------------------------------------------------- */


    /* --------------------------- 정규표현식 ----------------------------- */
    
    // 조건과 일치하는 문자열을 검색하고 싶을 때,
    // 많은 문자열을 패턴에 따라 일괄적으로 변환하고 싶을 때

    // 대표적인 표현식

    // 1. 기본
    // 1-1. /x/  /안녕/   -  /문자/ 문자가 포함될 경우
    console.log(/승관/.test('승관이 귀여워')); //true
    
    // 1-2. /abc|xyz/   -  /문자1|문자2/  문자1 또는 문자2가 포함될 경우(OR)
    console.log(/귀여|승/.test('승관이 귀여워'));// true
    console.log(/귀여|승/.test('승관이 잘생겼어'));// true
    console.log(/귀여|승/.test('뿌야 잘생겼어'));// false

    // 1-3. /^문자/  -  시작이 '문자'인 경우
    console.log(/^부/.test('부승관이 귀여워'));//true
    console.log(/^부/.test('승관이 귀여워'));//false
    
    // 1-4. /문자$/  -  끝이 '문자'인 경우
    console.log(/.$/.test('승관이 귀여워'));//false
    console.log(/워$/.test('부승관이 귀여워.'));//true


    // 2. 대괄호 안에 작성 []
    // 2-1. /[xyz]/   -  x,y,z 중 하나
    console.log(/[승관이]/.test('승철'))//true
    console.log(/[승관이]/.test('승관'))//true
    console.log(/[승관이]/.test('우지'))//false

    // 2-2. /[a-z]/   -  a ~ z 중 하나(한영,대소문자 구별), /[a-f]/   -  a ~ f 중 하나
    console.log(/[a-z]/.test('boo'));//true
    console.log(/[a-z]/.test('BOO'));//false
    console.log(/[a-z]/.test('승관'));//false

    console.log(/[a-f]/.test('xyz'));//false
    console.log(/[a-f]/.test('abc'));//true

    // 2-3. /[A-Za-z]/  -  A~Z, a~z 중 하나, (영문 대소문자 모두)
    console.log(/[A-Za-z]/.test('@#$'));//false
    console.log(/[A-Za-z]/.test('Seventeen SVT'));//true
    
    // 2-4. /[^xyz]/  -  x,y,z, 이외의 문자 중 하나 (제외)
    console.log(/[^승관]/.test('승관'));//false
    console.log(/[^승관]/.test('승철'));//true
    console.log(/[^승관]/.test('우지'));//true


    // 3. 상징적인 표현, 역슬래쉬(\) 활용, 소문자 포함, 대문자 제외
    // 3-1. /\d/  -  숫자 0~9
    console.log(/\d/.test('0231'))//true
    console.log(/\d/.test('sdfsdf'))//false
    
    // 3-2. /\D/  -  숫자 제외한 문자 [^0~9]
    console.log(/\D/.test('0231'))//false
    console.log(/\D/.test('sdfsdf'))//true
    
    // 3-3. /\w/  -  영문, 숫자, 언더바 [A-Za-z0-9_]
    console.log(/\w/.test('Sub_title123'));//true
    console.log(/\w/.test('!@#'))//false

    // 3-4. /\s/  -  공백(스페이스, 탭, 줄바꿈 등)
    console.log(/\s/.test());//false
    console.log(/\s/.test(''));//false
    console.log(/\s/.test(' '));//true
    console.log(/\s/.test('세모는 몽총이'));//true
    
    // 3-5. /\S/  -  공백 제외한 문자 [^\s]
    console.log(/\S/.test());//true
    console.log(/\S/.test(''));//false
    console.log(/\S/.test(' '));//false
    console.log(/\S/.test('세모는 몽총이'));//true
    /* -------------------------------------------------------- */

  </script>
</body>
</html>