<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /* ------------------ 배열 기초(생성, 불러오기) ----------------- */

    // 1. [] (대괄호) 안에 입력하여 배열 생성
    // 입력값은 타입에 상관없이 사용 가능.

    const arr1 = []; //빈 배열

    //숫자, 문자 상관없음
    const arr2 = [0,2,4,5,10,2,33,4];
    const arr3 = ['승관','승철','버논','정한'];

    //타입이 섞여도 상관없음
    const arr4 = [1,'곰',false];

    //배열에 배열도 가능
    const arr5 = [[1,1,1,10], [2,2,2,20]];

    //배열에 객체도 가능
    const arr6 = [{id:1, name:'곰'},{id:2,name:'고양이'}];


    // 2. new Array() 안에 입력
    // 대괄호처럼 똑같이 사용하면 됨.
    // 단, new Array()안에 입력되는 것이 숫자 n 1개라면 length가 n개인 빈 배열이 만들어짐.
    // 위의 이유때문에 new Array() 보다 []를 사용하고 있음.
    const arr7 = new Array(1,3,4);
    console.log(arr7); //[1,3,4]

    const arr8 = new Array(3);
    console.log(arr8); //[비어있음*3]; [,,]
    arr8[0] = '강아지'


    // 3. 배열 안 요소 불러오는 방법
    // 배열이름[인덱스번호];
    console.log(arr2[2]); //4

    console.log(arr5[0]); //[1,1,1,10]
    console.log(arr5[0][3]); //10
    
    console.log(arr6[0].name);//곰

    console.log(arr8[0]); //강아지
    console.log(arr8[1]); //undefined
    /* -------------------------------------------------------- */


    /* ------------------ 배열 개수 확인 ----------------- */

    // 1. 배열.length;
    // 말 그대로 배열 안 데이터의 개수

    const arr11 = [1,2,3,'고양이','승관'];
    console.log(arr11.length); //5

    //타입에 상관없이
    const arr12 = [{id:1,name:'곰'},{id:2,name:'고양이'},{id:3,name:'강아지'}];
    console.log(arr12.length); //3
    console.log(arr12[0].length);//undefined

    //빈배열도 포함
    const arr13 = [[],[1,2,3],[1,2,3,4,5]];
    console.log(arr13.length);
    //배열의 배열은 직접 지정
    console.log(arr13[2].length);//5
    /* -------------------------------------------------------- */


    /* ------------------ 배열 요소 추가하기 ----------------- */

    // 1. 배열.unshift(요소1, 요소2 ...);
    // 배열 앞 위치에 요소를 추가
    // 추가 요소의 개수제한은 없음.

    const arr21 = ['바나나','귤','사과'];
    arr21.unshift('배','용과');
    console.log(arr21); //(5) ['배', '용과', '바나나', '귤', '사과']


    // 2. 배열.push(요소1, 요소2 ...);
    // 배열 뒤 위치에 요소를 추가
    // 추가 요소의 개수제한 없음.

    const arr22 = ['고양이','개'];
    arr22.push('사자','호랑이');
    console.log(arr22); //(4) ['고양이', '개', '사자', '호랑이']
    /* -------------------------------------------------------- */


    /* ------------------ 배열 요소 삭제하기 ----------------- */

    // 1. 배열.shift();
    // 배열의 첫 요소를 제거

    const arr31 = ['고양이','개','곰','호랑이'];
    const sf = arr31.shift();
    console.log(arr31); //['개','곰','호랑이']

    //반환값은 삭제된 요소
    console.log(sf); //고양이
    const arr32 = [1,2,3,4,5];
    const sf2 = arr32.shift(); //shift와 동시에 반환값을 sf2에 담음.
    //타입은 배열에 있던 그대로
    console.log(sf2);//1
    console.log(typeof(sf2));//number
    console.log(arr32);//[2,3,4,5]

    // 2. 배열.pop();
    //배열의 끝 요소를 제거

    const arr33 = ['승관','귀여워','한보탑'];
    arr33.pop();
    console.log(arr33); //['승관','귀여워']

    // 삭제 요소가 없는 경우, 아무일도 일어나지 않음
    const arr34 = [];
    const sf3 = arr34.pop();
    console.log(arr34);//[]
    console.log(sf3);//undefined
    /* -------------------------------------------------------- */


    /* ------------------ 배열 요소 변환하기 ----------------- */
    
    // 1. 배열.splice(위치, 삭제개수, 추가요소1, 추가요소2 ...)
    const arr41 = ['사과','귤','배'];
    
    // 1-1. 원하는 위치의 요소 삭제. 추가요소를 작성하지 않는다.
    const sp5 = arr41.splice(0,1);
    console.log(arr41); //['귤','배']
    //+ 삭제요소 배열로 반환
    console.log(sp5); //['사과']


    // 1-2. 원하는 위치에 요소추가. 위치를 지정하고 삭제개수를 0으로 지정.
    arr41.splice(1,0,'승관','귀여워');
    console.log(arr41);//['귤', '승관', '귀여워', '배']
    
    // + 위치, 삭제개수 없이 추가요소만 작성할 경우 빈배열됨.
    arr41.splice('고양이');
    console.log(arr41);//[]


    // 2. 최종 변환하기
    const arr42 = ['사과','귤','배','낑깡'];

    // 2-1. 귤과 낑깡을 승관으로 변환
    // arr42.splice(1,1,'승관').splice(3,1,'승관'); //첫번째 splice만 진행됨.
    arr42.splice(1,1,'승관');
    arr42.splice(3,1,'승관');
    console.log(arr42); //['사과', '승관', '배', '승관']
    /* -------------------------------------------------------- */


    /* ------------------ 배열 합치기 ----------------- */

    // 1. 배열1.concat(배열2, 배열3 ...);
    const arr51 = [1,2,3];
    const arr52 = [4,5,6,7];
    const arr53 = arr51.concat(arr52);
    console.log(arr53); //[1, 2, 3, 4, 5, 6, 7]


    // 2. [...배열1, ...배열2];
    // ...(스프레드연산자) 활용
    const arr54 = ['세','븐','틴'];
    const arr55 = ['대','상','가','수'];
    const arr56 = [...arr54,...arr55];
    console.log(arr56); //['세', '븐', '틴', '대', '상', '가', '수']
    /* -------------------------------------------------------- */


    /* ------------------ 배열 요소 합치기 ----------------- */

    // 1. 배열.join([결합문자열]);
    // 배열의 요소들을 결합 후 문자열로 변환

    // 1-1. 기본
    const arr61 = ['부','승','관'];
    console.log(arr61.join('♥')); //부♥승♥관

    // 1-2. 결합문자열 공백으로 둘 경우
    console.log(arr56.join(''));//세븐틴대상가수

    // 1-3. 결합문자열 아예 작성안할 경우 ,(쉼표)가 기본값.
    console.log(arr61.join()); //부,승,관
    /* -------------------------------------------------------- */


    /* ------------------ 배열 요소 검색하기 ----------------- */
    
    // 1. 배열.indexOf(검색할요소,[시작위치]);
    // 검색할 요소의 index 위치를 반환

    const arr71 = ['고양이','개','호랑이','고양이','곰'];
    
    // 1-1. 기본
    console.log(arr71.indexOf('개')); //1

    // 1-2. 찾는 요소가 여러개일 경우, 가장 처음것으로 인식
    console.log(arr71.indexOf('고양이')); //0

    // 1-3. 시작위치 지정하기
    console.log(arr71.indexOf('고양이',2)); //3

    // 1-4. 없는경우, -1 반환
    console.log(arr71.indexOf('승관'));//-1


    // 2. 배열.lastIndexOf(검색할요소,[시작위치]);
    // 검색할 요소의 index 위치를 반환, 검색자체를 끝에서부터 시작

    // 2-1. 기본
    console.log(arr71.lastIndexOf('개')); //1

    // 2-2. 찾는 요소가 여러개일 경우, 가장 마지막 것으로 인식
    console.log(arr71.lastIndexOf('고양이')); //3

    // 2-3. 시작위치 지정하기
    console.log(arr71.lastIndexOf('고양이',2)); //0

    // 2-4. 없는경우, -1 반환
    console.log(arr71.lastIndexOf('승관'));//-1


    // 3. 배열.includes(검색할요소,[시작위치]);
    // 검색요소가 포함되어있으면 true, 아니면 false

    const arr72 = [1,2,3,4,5]
    // 3-1. 기본
    console.log(arr72.includes(1)); //true

    // 3-2. 타입도 일치해야됨.
    console.log(arr72.includes('1')); //false

    // 3-3. 배열의 내용이 객체나 배열일 경우, 사용못함. filter사용
    const arr73 = [{name:'승관',id:1},{name:'세모',id:2}];
    console.log(arr73.includes('승관')); //false
    console.log(arr73.includes({name:'승관',id:1})); //false

    const arr74 = [[1,2,3,],[4,5,6]];
    console.log(arr74.includes(1));//false
    /* -------------------------------------------------------- */


    /* --------------- 배열 조건에 맞는 요소(1개) ------------- */

    // 1. 배열.find((item,index,allArr)=>{return 조건})
    // 조건에 맞는 배열요소를 첫번째 1개만 가져온다.

    const arr81 = ['승관','곰','호랑이','승관'];
    const find1 = arr81.find((item)=> item === '승관');
    console.log(find1); //승관

    const arr82 = [1,2,3,4,5];
    const find2 = arr82.find(item=> item > 3);
    console.log(find2);//4

    // 2. 배열.findIndex((item,index,allArr)=>{return 조건})
    // 조건에 맞는 배열요소의 첫번째 인덱스 번호를 반환한다.

    const arr83 = ['귀여운','승관이','랫서팬더','닮음'];
    const find3 = arr83.findIndex(item=>item ==='승관이');
    console.log(find3); //1
    /* --------------------------- find 예제 ----------------------------- */
  </script>
  <h2>유저이름에 맞는 유저아이디 찾기</h2>
  <form action="#" id="uid_form">
    <label for="uid">이름 : </label>
    <input type="text" id="uid" name="uid">
  </form>
  <p class="uid_rs"></p>
  <script>
    const userList = [
      {uid: 'boo_bear', name: '승관'},
      {uid: 'semo_monchong',name:'세모'},
      {uid: 'star_beautiful',name:'벼리'},
      {uid:'seventeen_capjjang',name:'세븐틴'},
      {uid:'cheery_cheche',name:'승철'}
    ]


    
    //submit 이벤트
    document.querySelector('#uid_form').addEventListener('submit',(e)=>{
      e.preventDefault(); 

      //입력한 이름
      let name = e.target.uid.value;
      
      const result = userList.find(item=>item.name === name);
      
      if(result) {
        document.querySelector('.uid_rs').innerText = `당신의 ID는 ${result.uid} 입니다.`;
      } else {
        document.querySelector('.uid_rs').innerText = '검색결과없음';
      }
    });
    

    /*
    // keyup 이벤트
    window.addEventListener('keyup',()=>{
      let val = document.querySelector('#uid').value;
      const result = userList.find(item=>item.name === val);
      console.log(result);
      if(result) {
        document.querySelector('.uid_rs').innerText = `당신의 ID는 ${result.uid} 입니다.`;
      } else {
        document.querySelector('.uid_rs').innerText = '검색결과없음';
      }

    })
    */
    /* -------------------------------------------------------- */


    /* --------------- 배열 조건에 맞는 요소(여러개) ------------- */

    // 1. 배열.filter((item,index,allArr)=>조건);
    //조건에 맞는 요소를 필터링해 배열형태로 반환
    const arr100 = [10,20,30,40,50];
    const rs14 = arr100.filter(item=>item>20);
    console.log(rs14); //[30,40,50]
    /* ------------------------- filter예제 ------------------------------- */
    </script>
    <hr>
    <h2>filter를 이용해 원하는 나이대의 유저 찾기</h2>
    <button class="age_20" data-age="20">20세이상</button>
    <button class="age_30" data-age="30">30세이상</button>
    <button class="age_40" data-age="40">40세이상</button>
    <button class="age_all" data-age="0">모두보기</button>
    <ul class="age_user"></ul>
    <script>
      const age_user = [
        {age: 24, name: '벼리'},
        {age: 22, name: '세모'},
        {age: 36, name: '라이언'},
        {age: 15, name: '초코'},
        {age: 40, name: '피치'},
        {age: 55, name: '네이비'},
        {age: 61, name: '젤리'},
        {age: 30, name: '춘식'},
        {age: 60, name: '제이지'},
        {age: 17, name: '베어'}
      ]

      //리스트 출력
      function listRe2(list){
        document.querySelector('.age_user').innerHTML = ''; //초기화
        list.sort((a,b)=>a.age-b.age); //나이 오름차순 정렬
        for(let i of list) {
          document.querySelector('.age_user').innerHTML += `
            <li><p>${i.age}세 : ${i.name}</p></li>
          `;
        }
      }
      listRe2(age_user);


      const ageBtns = document.querySelectorAll('button[class^="age_"]');

      //20대이상
      for(let btn of ageBtns){
        btn.addEventListener('click',(e)=>{
          const ageNum = e.target.getAttribute('data-age');
          const ageNumList = age_user.filter(item=>item.age>=ageNum);
          listRe2(ageNumList);
        });
      }
    /* -------------------------------------------------------- */


    /* --------------------- 배열 정렬하기 --------------------- */

    // 1. 배열.reverse()
    // 역순정렬
    const arr91 = [1,2,3,4,5];
    arr91.reverse();
    console.log(arr91); //[5, 4, 3, 2, 1]


    // 2. 배열.sort(비교함수);
    // 오름차순, 내림차순
    const arr92 = [1,3,2,4,5,22,11,33];
    const arr93 = ['가','라','나','다','사','하','카','사사','나나'];
    const arr94 = ['a','A','CC','b','f','ee','E','e'];

    // 2-1. 기본 오름차순(숫자)
    arr92.sort((a,b)=>{
      if(a > b) return 1;
      if(a === b) return 0;
      if(a < b) return -1;
    });
    console.log(arr92);  //[1, 2, 3, 4, 5, 11, 22, 33]


    // 2-2. 기본 내림차순(숫자)
    arr92.sort((a,b)=>{
      if(a < b) return 1;
      if(a === b) return 0;
      if(a > b) return -1;
    });
    console.log(arr92); //[33, 22, 11, 5, 4, 3, 2, 1]


    // 2-3. 축약버전(숫자)
    arr92.sort((a,b)=>{
      return a-b; //오름차순
      // return b-a; //내림차순
    });


    // 2-4. 대소문자 구분없이 오름차순(영문)
    arr94.sort((a,b)=>{
      let upperA = a.toUpperCase();
      let upperB = b.toUpperCase();

      if(upperA > upperB) return 1;
      if(upperA === upperB) return 0;
      if(upperA < upperB) return -1;
    });
    console.log(arr94);//['a', 'A', 'b', 'CC', 'E', 'e', 'ee', 'f']

    // 2-4. 대소문자 구분없이 오름차순(영문)
    arr94.sort((a,b)=>{
      a.localeCompare(b);
    });
    console.log(arr94);//['a', 'A', 'b', 'CC', 'E', 'e', 'ee', 'f']


    // 2-5. 대소문자 구분없이 내림차순(영문)
    arr94.sort((a,b)=>{
      let upperA = a.toUpperCase();
      let upperB = b.toUpperCase();

      if(upperA < upperB) return 1;
      if(upperA === upperB) return 0;
      if(upperA > upperB) return -1;
    });
    console.log(arr94);//['f', 'ee', 'E', 'e', 'CC', 'b', 'a', 'A']

    // 2-5. 대소문자 구분없이 내림차순(영문)
    arr94.sort((a,b)=>{
      b.localeCompare(a);
    });
    console.log(arr94);//['f', 'ee', 'E', 'e', 'CC', 'b', 'a', 'A']


    // 2-6. 비교함수 생략할 시, 유니코드 순서 (특별한 이유가 없다면 비교함수는 작성해둘것!@!)
    arr92.sort();
    console.log(arr92);//[1, 11, 2, 22, 3, 33, 4, 5]

    arr93.sort();
    console.log(arr93);//['가', '나', '나나', '다', '라', '사', '사사', '카', '하']

    arr94.sort();
    console.log(arr94);//['A', 'CC', 'E', 'a', 'b', 'e', 'ee', 'f']


    // 2-7. 객체 정렬하기
    //가격 오름차순
    const arr95 = [
      {name: 'banana', price: 3000}, 
      {name: 'apple', price: 1000},
      {name: 'orange', price: 500}
    ];

    arr95.sort(function(a, b) {
      return a.price - b.price;
    });
    console.log(arr95);
    /*
    0 : {name: 'orange', price: 500},
    1 : {name: 'apple', price: 1000},
    2 : {name: 'banana', price: 3000}
    */
  /* -------------------------- sort 예제 ------------------------------ */
  </script>
  <hr>
  <h2>객체 유저리스트 오름차순 / 내림차순</h2>
  <button id="name_as">이름 오름차순</button>
  <button id="name_des">이름 내림차순</button>
  <button id="uid_as">아이디 오름차순</button>
  <button id="uid_des">아이디 내림차순</button>
  <ul id="user_list">

  </ul>
  <script>
    const userList2 = [
      {id: 2, name: '곰'},
      {id: 10, name: '여우'},
      {id: 4, name: '사자'},
      {id: 29, name: '기린'},
      {id: 101, name: '호랑이'},
      {id: 40, name: '고양이'}
    ];
    const user_ul = document.querySelector('#user_list');


    //기존 리스트 출력 & 리스트 재출력
    let listRe = ()=>{
      user_ul.innerHTML = '';
      for(let i of userList2){
        user_ul.innerHTML += `<li>${i.id} : ${i.name}</li>`;
      }
    }
    listRe();

    //아이디 오름차순
    document.querySelector('#uid_as').addEventListener('click',()=>{
      userList2.sort((a,b)=>{
        return a.id-b.id;
      });
      listRe();
    });

    //아이디 내림차순
    document.querySelector('#uid_des').addEventListener('click',()=>{
      userList2.sort((a,b)=>{
        return b.id-a.id;
      });
      listRe();
    });

    //이름 오름차순
    document.querySelector('#name_as').addEventListener('click',()=>{
      userList2.sort((a,b)=>{
        if(a.name > b.name) return 1;
        if(a.name == b.name) return 0;
        if(a.name < b.name) return -1;
      });
      listRe();
    });

    //이름 오름차순
    document.querySelector('#name_des').addEventListener('click',()=>{
      userList2.sort((a,b)=>{
        if(a.name < b.name) return 1;
        if(a.name == b.name) return 0;
        if(a.name > b.name) return -1;
      });
      listRe();
    });
    /* -------------------------------------------------------- */


    /* ------------------ 배열 한개로 정리 -------------------- */

    // 1. 배열.redux((prev,current,index,allArr)=>{배열들 계산식})

    // 1-1. 배열의 수를 모두 더하기
    const arr201 = [10,1000,230320,304,201];
    const rs13 = arr201.reduce((prev,cur)=>prev+cur);
    console.log(rs13); //231835

    // 1-2. 배열의 문자열 더하기
    const arr202 = ['사자','호랑이','뱀','쥐'];
    const rs12 = arr202.reduce((prev,curr)=>`${prev}와 ${curr}`);
    console.log(rs12); //사자와 호랑이와 뱀와 쥐

    // 1-3. 2차배열을 1차배열로
    const arr203 = [['승관','정한','도겸'],['호시','디노']];
    const rs9 = arr203.reduce((prev,curr)=>prev.concat(curr));
    console.log(rs9); //['승관', '정한', '도겸', '호시', '디노']

    // 2. 배열.reduxRight((prev,current,index,allArr)=>{배열 계산식})
    // 반대로 계산.
    /* -------------------------------------------------------- */

  </script>

</body>
</html>